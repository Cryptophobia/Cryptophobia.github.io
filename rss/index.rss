<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" version="2.0"><channel><title>MOVEQ</title><description>MOVEQ R(brain), R(net)</description><link>http://localhost:2368/</link><image><url>http://localhost:2368/favicon.png</url><title>MOVEQ</title><link>http://localhost:2368/</link></image><generator>Ghost 3.21</generator><lastBuildDate>Thu, 02 Jul 2020 19:26:55 GMT</lastBuildDate><atom:link href="http://localhost:2368/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title>Rotating Kops and Hephy Credentials</title><description>&lt;p&gt;Sometimes you need to rotate all credentials in long-running Kubernetes clusters which are usually created automatically by your deployment tool of choice. This happens as certificates and other automatically created secrets could expire. In my case, this happened because the etcd internal TLS certificate expired.&lt;/p&gt;&lt;p&gt;In the TeamHephy cluster we&lt;/p&gt;</description><link>http://localhost:2368/rotating-kops-credentials-and-hephy-secrets/</link><guid isPermaLink="false">5efe10ca130471bb0edae219</guid><category>hephy</category><category>tutorial</category><dc:creator>Cryptophobia</dc:creator><pubDate>Thu, 02 Jul 2020 17:32:00 GMT</pubDate><media:content url="http://localhost:2368/content/images/2020/07/Selection_149-1.png" medium="image"/><content:encoded>&lt;img src="http://localhost:2368/content/images/2020/07/Selection_149-1.png" alt="Rotating Kops and Hephy Credentials"&gt;&lt;p&gt;Sometimes you need to rotate all credentials in long-running Kubernetes clusters which are usually created automatically by your deployment tool of choice. This happens as certificates and other automatically created secrets could expire. In my case, this happened because the etcd internal TLS certificate expired.&lt;/p&gt;&lt;p&gt;In the TeamHephy cluster we use &lt;a href="https://github.com/kubernetes/kops"&gt;kops&lt;/a&gt; as the deployment tool for AWS and there is a great guide written by the kops maintainers for rotating all the k8s control plane secrets:&lt;/p&gt;&lt;p&gt;Link: &lt;a href="https://github.com/kubernetes/kops/blob/master/docs/rotate-secrets.md"&gt;Rotate Kops Secrets and Credentials Guide&lt;/a&gt;&lt;/p&gt;&lt;h3 id="resetting-your-passwords-in-hephy-workflow-"&gt;&lt;br&gt;Resetting your passwords in Hephy Workflow:&lt;/h3&gt;&lt;p&gt;(hephy-controller and deis-controller are used interchangeably here)&lt;/p&gt;&lt;h4 id="case-1-you-are-not-an-admin-in-hephy-controller-ask-your-administrator-to-exec-deis-auth-passwd-user-your_account-"&gt;&lt;br&gt;Case 1: You are not an admin in hephy-controller:&lt;br&gt;&lt;br&gt;Ask your administrator to exec: Â &lt;code&gt;deis auth:passwd --user {your_account}&lt;/code&gt;&lt;/h4&gt;&lt;pre&gt;&lt;code class="language-shell"&gt;$ deis auth:passwd --help
Changes the password for the current user.

Usage: deis auth:passwd [options]

Options:
--password=the current password for the account.
--new-password=the new password for the account.
--username=the account's username.&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="case-2-you-are-the-one-and-only-administrator-in-hephy-controller-"&gt;&lt;br&gt;Case 2: You are the one and only administrator in hephy-controller:&lt;/h4&gt;&lt;p&gt;Find your deis-controller pod:&lt;/p&gt;&lt;pre&gt;&lt;code class="language-shell"&gt;$ kubectl get pods -n deis | grep -i "deis-controller"
deis-controller-762839819f-a6fzn                  1/1     Running   0          15d
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Execute the command to get into Django managment shell:&lt;/p&gt;&lt;pre&gt;&lt;code class="language-shell"&gt;$ kubectl exec --namespace=deis -it deis-controller-762839819f-a6fzn ./manage.py shell
Python 3.6.9 (default, Apr 18 2020, 01:56:04) 
[GCC 8.4.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
&amp;gt;&amp;gt;&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now in the interactive management console:&lt;/p&gt;&lt;pre&gt;&lt;code class="language-shell"&gt;&amp;gt;&amp;gt;&amp;gt; from django.contrib.auth.models import User
&amp;gt;&amp;gt;&amp;gt; u = User.objects.get(username__exact='{your_account_name}')
&amp;gt;&amp;gt;&amp;gt; u.set_password('{new_password_plain_text}')
&amp;gt;&amp;gt;&amp;gt; u.save()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can then exit by typing &lt;code&gt;exit()&lt;/code&gt; or pressing &lt;code&gt;&lt;code&gt;Ctrl-D&lt;/code&gt;&lt;/code&gt;&lt;/p&gt;&lt;h4 id="notes-"&gt;Notes:&lt;/h4&gt;&lt;p&gt;&lt;code&gt;deis-controller-762839819f-a6fzn&lt;/code&gt; is the pod name of the deis-controller.&lt;/p&gt;&lt;p&gt;Modify &lt;code&gt;{your_account_name}&lt;/code&gt; and &lt;code&gt;{new_password_plain_text}&lt;/code&gt; as you like.&lt;br&gt;&lt;/p&gt;</content:encoded></item><item><title>A Micro-Soft Joke</title><description>&lt;p&gt;This post is going to be a retelling of a joke I read in an interview prep book called &lt;a href="https://www.amazon.com/Are-Smart-Enough-Work-Google/dp/0316099988"&gt;"Are You Smart Enough to Work at Google?"&lt;/a&gt;. The joke goes like this...&lt;/p&gt;&lt;p&gt;A pilot was flying around when a technical problem disabled all of the helicopter's electronic navigation and communications&lt;/p&gt;</description><link>http://localhost:2368/a-joke/</link><guid isPermaLink="false">5efcf0bb830d277e4a4ecae3</guid><category>joke</category><category>funny</category><dc:creator>Cryptophobia</dc:creator><pubDate>Wed, 01 Jul 2020 21:06:30 GMT</pubDate><content:encoded>&lt;p&gt;This post is going to be a retelling of a joke I read in an interview prep book called &lt;a href="https://www.amazon.com/Are-Smart-Enough-Work-Google/dp/0316099988"&gt;"Are You Smart Enough to Work at Google?"&lt;/a&gt;. The joke goes like this...&lt;/p&gt;&lt;p&gt;A pilot was flying around when a technical problem disabled all of the helicopter's electronic navigation and communications equipment. The weather and fog were so bad that the helicopter pilot could not tell where he was. Looking around, the pilot was able to see a tall building and he flew towards it, circled around, and held up a sign that said "Where am I?" in large bold letters.&lt;/p&gt;&lt;p&gt;People in the tall building quickly responded by drawing their own sign: "You are in a helicopter".&lt;br&gt;&lt;br&gt;The pilot smiled, thanked them with a gesture, looked at his map and determined the route back to the airport and landed safely.&lt;br&gt;&lt;br&gt;After landing the passengers asked the pilot how could he know where to go?&lt;br&gt;&lt;br&gt;The pilot said: "I knew that building had to be the Micro-soft headquarters, because they gave me technically correct but completely useless answer."&lt;/p&gt;&lt;p&gt;Hahaha!&lt;/p&gt;</content:encoded></item></channel></rss>